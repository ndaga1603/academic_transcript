{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">
        <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}"
              rel="stylesheet">
        <link rel="stylesheet" href="{% static 'style.css' %}">
        <title>Results</title>
    </head>
    <body>
        <div class="container-fluid">
            <div class="container">
                <h1>Class Results</h1>
                <h3>Class {{ class_id }}</h3>
                <table class="table table-borderless">
                    <tr>
                        <th scope="col">Registration Number</th>
                        <th scope="col">Student Name</th>
                        <th scope="col">Module</th>
                        {% comment %} <th scope="col">Remark</th> {% endcomment %}
                    </tr>
                    {% for student in students %}
                      
                        <tr>
                            <td>{{ student.registration_number }}</td>
                            <td>{{ student.first_name }} {{ student.middle_name }} {{ student.last_name }}</td>
                            {% for key, value in student_results.items %}
                                {% if key == student.registration_number %}
                                    {% for result in value %}
                                        <td>
                                            <table class="table table-borderless">
                                                <h6>{{result.module_code.module_name }}</h6>
                                                <th scope="col">CA</th>
                                                <th scope="col">FE</th>
                                                <th scope="col">Total</th>
                                                <th scope="col">Grade</th>
                                                <th scope="col">Status</th>
                                                <tr>
                                                    <td>{{ result.ca }}</td>
                                                    <td>{{ result.fe }}</td>
                                                    <td>{{ result.total }}</td>
                                                    <td>{{ result.grade }}</td>
                                                    <td>{{ result.status }}</td>
                                                </tr>
                                            </table>
                                        </td>
                                    {% endfor %}
                                {% endif %}
                            {% endfor %}
                        </tr>
                    {% endfor %}
                </table>
                {% comment %} <a href="{% url 'export-pdf' %}"> <button class="btn btn-primary">Eport to PDF</button> </a> {% endcomment %}
                <!-- Optional JavaScript -->
                <!-- jQuery first, then Popper.js, then Bootstrap JS -->
                <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
                        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
                        crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
                        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                        crossorigin="anonymous"></script>
                <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
            </body>
        </html>
